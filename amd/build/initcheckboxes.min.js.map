{"version":3,"file":"initcheckboxes.min.js","sources":["../src/initcheckboxes.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/.\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle. If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * @package\r\n * @subpackage organizer\r\n * @copyright 2020 Thomas Niedermaier (thomas.niedermaier@gmail.com)\r\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n/**\r\n * Tab appointments view: Check or uncheck all checkboxes.\r\n */\r\n\r\n\r\ndefine(\r\n    ['jquery'], function($) {\r\n\r\n        /**\r\n     * @constructor\r\n     * @alias module:mod_organizer/initcheckboxes\r\n     */\r\n        var Initcheckboxes = function() {};\r\n\r\n        var instance = new Initcheckboxes();\r\n\r\n        instance.init = function() {\r\n\r\n            /**\r\n             * Check or uncheck checkboxes of slot overview.\r\n             * @param {object} e element which has been clicked\r\n             */\r\n            function organizer_check_all(e) {\r\n                var checked = $(e.target).is(':checked');\r\n                var table = $('#slot_overview');\r\n\r\n                table.find('tbody').find('tr').each(\r\n                    function() {\r\n                        if (($(this).css('offsetWidth') === 0 &&\r\n                            $(this).css('offsetHeight') === 0) || $(this).css('display') === 'none') {\r\n                            $(this).find('input[type=checkbox]').prop('checked', false);\r\n                        } else {\r\n                            $(this).find('input:not([disabled])[type=checkbox]').prop('checked', checked);\r\n                        }\r\n                    }\r\n                );\r\n\r\n                table.find('thead').find('input[type=checkbox]').prop('checked', checked);\r\n                table.find('tfoot').find('input[type=checkbox]').prop('checked', checked);\r\n            }\r\n\r\n            $('#slot_overview thead').find('input[type=checkbox]').on('click', organizer_check_all);\r\n            $('#slot_overview tfoot').find('input[type=checkbox]').on('click', organizer_check_all);\r\n            $(\"input:not([disabled])[type=checkbox]\").click(function() {\r\n                $(\"#bulkactionbutton\").attr(\"disabled\", true);\r\n                $('#slot_overview').find('input:not([disabled]):not([name=\"select\"])[type=checkbox]').each(\r\n                    function() {\r\n                        if ($(this).prop('checked') == true) {\r\n                            $(\"#bulkactionbutton\").attr(\"disabled\", false);\r\n                            return false;\r\n                        }\r\n                    }\r\n                );\r\n            });\r\n        };\r\n\r\n        return instance;\r\n\r\n    }\r\n);\r\n"],"names":["define","$","instance","init","organizer_check_all","e","checked","target","is","table","find","each","this","css","prop","on","click","attr"],"mappings":";;;;;;AA2BAA,sCACI,CAAC,WAAW,SAASC,OAQbC,SAAW,IAFM,oBAIrBA,SAASC,KAAO,oBAMHC,oBAAoBC,OACrBC,QAAUL,EAAEI,EAAEE,QAAQC,GAAG,YACzBC,MAAQR,EAAE,kBAEdQ,MAAMC,KAAK,SAASA,KAAK,MAAMC,MAC3B,WACwC,IAA/BV,EAAEW,MAAMC,IAAI,gBACmB,IAAhCZ,EAAEW,MAAMC,IAAI,iBAAqD,SAA3BZ,EAAEW,MAAMC,IAAI,WAClDZ,EAAEW,MAAMF,KAAK,wBAAwBI,KAAK,WAAW,GAErDb,EAAEW,MAAMF,KAAK,wCAAwCI,KAAK,UAAWR,YAKjFG,MAAMC,KAAK,SAASA,KAAK,wBAAwBI,KAAK,UAAWR,SACjEG,MAAMC,KAAK,SAASA,KAAK,wBAAwBI,KAAK,UAAWR,SAGrEL,EAAE,wBAAwBS,KAAK,wBAAwBK,GAAG,QAASX,qBACnEH,EAAE,wBAAwBS,KAAK,wBAAwBK,GAAG,QAASX,qBACnEH,EAAE,wCAAwCe,OAAM,WAC5Cf,EAAE,qBAAqBgB,KAAK,YAAY,GACxChB,EAAE,kBAAkBS,KAAK,6DAA6DC,MAClF,cACmC,GAA3BV,EAAEW,MAAME,KAAK,kBACbb,EAAE,qBAAqBgB,KAAK,YAAY,IACjC,SAOpBf"}