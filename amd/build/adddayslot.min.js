define(["jquery","core/log"],function(a,b){var c=function(){this.totalslots=0,this.displayallslots=0,this.totalday="",this.totaltotal=""},d=new c;d.init=function(c){function e(b){var c=a(b.target),d=c.attr("name"),e=parseInt(d.replace("newslots[","")),i=f(e),j=g(e),k=h();a("span[name='newslots["+e+"]forecastday']").html(i*j*k)}function f(a){return 2*a}function g(a){return 3*a}function h(){var b=a("input[name=maxparticipants]").val();return a.isNumeric(b)?b:0}if(d.totalslots=c.totalslots,d.displayallslots=c.displayallslots,d.totalday=c.totalday,d.totaltotal=c.totaltotal,b.info(d.totalslots,"totalslots"),b.info(d.displayallslots,"displayallslots"),b.info(d.totalday,"totalday"),b.info(d.totaltotal,"totaltotal"),0==d.displayallslots){for(var i=d.totalslots-1;i>0&&a("#id_newslots_"+String(i)+"_day").val()==-1;i--)a("#id_newslots_"+String(i)+"_day").closest(".form-group.row.fitem").hide(),a("#fgroup_id_slotgroup"+String(i)).hide();i<d.totalslots-1&&a("#id_addday").hide(),a("[id^=id_newslots_]").change(function(){var b=a(this).attr("id"),c=parseInt(b.split("_")[2])+1;a("#id_newslots_"+String(c)+"_day").closest(".form-group.row.fitem").show(),a("#fgroup_id_slotgroup"+String(c)).show(),c==d.totalslots&&a("#id_addday").show()})}return a('div[data-groupname*="slotgroup"]').each(function(){a(this).find(":input").not(":checkbox").on("change",e)}),1==a("#id_now").prop("checked")&&(a("[name^=availablefrom]").prop("disabled",!0),a("#id_availablefrom_timeunit").prop("disabled",!0)),d}});